module.exports = BrowserService;

var HttpTransport = require('http-transport');
var LocalStorage  = require('local-storage');

/**
 * Setup local storage and HTTP transports
 *
 * configs:
 * * `storage.namespace` Optional namespace for local storage
 * @constructor
 */
function BrowserService(app, config)
{
  var namespace = config.get('storage.namespace', 'app-storage');

  app.register('transport', new HttpTransport()).asInstance();
  app.register('storage', new LocalStorage(namespace)).asInstance();
}
